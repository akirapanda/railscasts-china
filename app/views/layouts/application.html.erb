<!doctype html>
<%# paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ %>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<%# Consider adding a manifest.appcache: h5bp.com/d/Offline %>
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= content_for?(:title) ? yield(:title) : "Railscasts China" %></title>
    <meta name="description" content="">
    <meta name="author" content="">
    <%= stylesheet_link_tag    "application", :media => "all" %>
    <%= javascript_include_tag "application" %>
    <%= csrf_meta_tags %>
    <link href='http://fonts.useso.com/css?family=Russo+One' rel='stylesheet' type='text/css'>
    <%= yield(:head) %>

    <%# All JavaScript at the bottom, except this Modernizr build incl. Respond.js
       Respond is a polyfill for min/max-width media queries. Modernizr enables HTML5 elements & feature detects;
       for optimal performance, create your own custom Modernizr build: www.modernizr.com/download/ %>
    <%= javascript_include_tag "modernizr" %>
  </head>
  <body>
    <header>
      <div class="user-nav">
        <% if user_signed_in? %>
          Logged in as <%= current_user.name %>
          <%= link_to 'Logout', signout_path %>
        <% else %>
          <%= link_to 'Sign in through GitHub', signin_path %>
        <% end %>
      </div>
      <div class="container-fluid logo">
        <%= render 'layouts/header' %>
      </div>
      <div class="navbar">
        <nav class="navbar-inner">
           <div class="container">
             <%= render 'layouts/navigation' %>
           </div>
         </nav>
      </div>
    </header>

    <div id="main" role="main">
      <div class="container-fluid">
        <div class="row">
          <div class="span8 offset1">
            <%= render 'layouts/messages' %>
          </div>
        </div>

        <%= yield %>
      </div> <!--! end of .container -->
    </div> <!--! end of #main -->

    <footer class="footer">
      <%= render 'layouts/footer' %>
    </footer>
  </body>

  <!-- Google Analytics --> 
  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-31590265-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</html>
